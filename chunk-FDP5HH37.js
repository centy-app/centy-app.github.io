import{a as v,g as c,h as $,i as m,j as N}from"./chunk-O5LUZGNK.js";import{$ as S,Ac as O,C,Db as w,Ma as I,Ra as p,Sa as d,T as h,W as y,Wa as M,aa as D,bb as u,db as k,ea as L,o,ra as j,uc as E,vc as R,xc as U,ya as x,yc as G,za as A,zc as F}from"./chunk-TO2CRQFP.js";var P=(()=>{let e=class e{};e.type="[Categories] Get Categories";let t=e;return t})(),b=(()=>{let e=class e{constructor(i){this.payload=i}};e.type="[Categories] Get Categories Success";let t=e;return t})(),f=(()=>{let e=class e{};e.type="[Categories] Get Categories Error";let t=e;return t})(),T=(()=>{let e=class e{};e.type="[Categories] Get Spending Categories";let t=e;return t})(),z=(()=>{let e=class e{};e.type="[Categories] Get Assets Categories";let t=e;return t})();var Y=(()=>{let e=class e{constructor(i){this.http=i,this.categoriesUrl=N.baseApiUrl+"categories"}createCategory(i){return this.http.post(this.categoriesUrl,i)}getCategories(){return this.http.get(this.categoriesUrl)}updateCategory(i,r){return this.http.patch(`${this.categoriesUrl}/${i}`,r)}deleteCategory(i){return this.http.delete(`${this.categoriesUrl}/${i}`)}};e.\u0275fac=function(r){return new(r||e)(S(w))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var l=function(t){return t[t.Spending=0]="Spending",t[t.Asset=1]="Asset",t}(l||{});var g,n=(g=class{constructor(e){this.categoriesService=e,this.destroyRef=D(j)}static getCategories(e){return e.categories}static getSpendingCategories(e){return e.spendingCategories}static getAssetsCategories(e){return e.assetsCategories}static isLoading(e){return e.isLoading}getCategories({patchState:e,dispatch:s}){return e({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),h(i=>s(new b({categories:i}))),C(i=>s(new f))).subscribe()}getCategoriesSuccess({patchState:e},{payload:s}){let i=s.categories.filter(a=>a.type===l.Spending),r=s.categories.filter(a=>a.type===l.Asset);e({categories:s.categories,spendingCategories:i,assetsCategories:r,isLoading:!1})}getCategoriesError({patchState:e}){e({isLoading:!1})}getSpendingCategories({patchState:e,dispatch:s}){return e({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),h(i=>{let r=i.filter(a=>a.type===l.Spending);e({spendingCategories:r,isLoading:!1})}),C(i=>s(new f))).subscribe()}getAssetsCategories({patchState:e,dispatch:s}){return e({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),h(i=>{let r=i.filter(a=>a.type===l.Asset);e({assetsCategories:r,isLoading:!1})}),C(i=>s(new f))).subscribe()}},g.\u0275fac=function(s){return new(s||g)(S(Y))},g.\u0275prov=y({token:g,factory:g.\u0275fac}),g);o([c(P)],n.prototype,"getCategories",null);o([c(b)],n.prototype,"getCategoriesSuccess",null);o([c(f)],n.prototype,"getCategoriesError",null);o([c(T)],n.prototype,"getSpendingCategories",null);o([c(z)],n.prototype,"getAssetsCategories",null);o([m()],n,"getCategories",null);o([m()],n,"getSpendingCategories",null);o([m()],n,"getAssetsCategories",null);o([m()],n,"isLoading",null);n=o([$({name:"categoriesState",defaults:{categories:[],spendingCategories:[],assetsCategories:[],isLoading:!1}})],n);var ae=(()=>{let e=class e{constructor(i,r){this.dialogRef=i,this.data=r}onNoClick(){this.dialogRef.close()}};e.\u0275fac=function(r){return new(r||e)(A(E),A(R))},e.\u0275cmp=L({type:e,selectors:[["app-delete-confirmation-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(r,a){r&1&&(p(0,"h1",0),u(1,"Confirm Deletion"),d(),p(2,"div",1)(3,"p"),u(4),d()(),p(5,"div",2)(6,"button",3),M("click",function(){return a.onNoClick()}),u(7,"No"),d(),p(8,"button",4),u(9,"Yes"),d()()),r&2&&(x(4),k("Are you sure you want to delete the ",a.data.name," category?"),x(4),I("mat-dialog-close",!0))},dependencies:[U,G,O,F],styles:["h1[_ngcontent-%COMP%]{font-size:20px;font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{font-size:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]});let t=e;return t})();export{P as a,Y as b,n as c,ae as d};

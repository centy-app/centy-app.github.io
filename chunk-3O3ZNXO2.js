import{a as V}from"./chunk-4AIDGMA6.js";import"./chunk-O6VVPN34.js";import{a as T}from"./chunk-S23KONLI.js";import{d as N}from"./chunk-UTXMMGXG.js";import{Ac as q,Ba as o,Ea as m,Eb as b,Fc as z,Ka as v,Nb as y,Pc as G,Xa as c,Xb as D,Za as p,ab as d,bb as s,cb as r,db as g,ga as C,hc as O,ic as u,jb as _,jc as P,kc as w,lc as k,mc as f,nc as L,oc as S,pa as M,pc as F,qb as l,qc as E,rc as R,sc as B,tc as I,uc as x,vc as H,wc as j}from"./chunk-E7ADILNX.js";function K(t,i){t&1&&g(0,"img",2)}function U(t,i){t&1&&(s(0,"mat-error"),l(1,"Email is invalid"),r())}function A(t,i){t&1&&(s(0,"mat-error"),l(1,"Password is required"),r())}var se=(()=>{let i=class i{constructor(a,n,e,h){this.loginService=a,this.changeDetectorRef=n,this.media=e,this.snackBar=h,this.submitButtonDisabled=!1,this.destroyRef=C(M)}ngOnInit(){this.initialyzeMediaMatcherListener(),this.initialyzeFormComponents()}onLogin(){this.submitButtonDisabled=!0,this.loginService.loginRemote({email:this.email.value,password:this.password.value}).pipe(T(this.destroyRef)).subscribe(a=>{a.success||(a.errors?a.errors.forEach(n=>{this.snackBar.open(n,"OK")}):this.snackBar.open("Unexpected error occurred while logging in","OK")),this.submitButtonDisabled=!1})}initialyzeMediaMatcherListener(){this.isDesktopHeight=this.media.matchMedia("(min-height: 500px)"),this.isDesktopHeightListener=()=>this.changeDetectorRef.detectChanges(),this.isDesktopHeight.addEventListener("change",this.isDesktopHeightListener)}initialyzeFormComponents(){this.email=new f("",[u.required,u.email]),this.password=new f("",u.required),this.loginForm=new k({email:this.email,password:this.password})}ngOnDestroy(){this.isDesktopHeight.removeEventListener("change",this.isDesktopHeightListener)}};i.\u0275fac=function(n){return new(n||i)(m(V),m(b),m(D),m(z))},i.\u0275cmp=v({type:i,selectors:[["app-login"]],decls:15,vars:7,consts:[["id","login-page"],["id","login-form",3,"ngSubmit","formGroup"],["src","../../../assets/typing.gif","alt","cat"],["matInput","","required","","placeholder","name@domain.com","required","",3,"formControl"],["matInput","","type","password",3,"formControl"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(n,e){n&1&&(s(0,"div",0)(1,"form",1),_("ngSubmit",function(){return e.onLogin()}),c(2,K,1,0,"img",2),s(3,"mat-form-field")(4,"mat-label"),l(5,"Email"),r(),g(6,"input",3),c(7,U,2,0,"mat-error"),r(),s(8,"mat-form-field")(9,"mat-label"),l(10,"Password"),r(),g(11,"input",4),c(12,A,2,0,"mat-error"),r(),s(13,"button",5),l(14,"Log In"),r()()()),n&2&&(o(),d("formGroup",e.loginForm),o(),p(e.isDesktopHeight.matches?2:-1),o(4),d("formControl",e.email),o(),p(e.email.invalid?7:-1),o(4),d("formControl",e.password),o(),p(e.password.invalid?12:-1),o(),d("disabled",!e.loginForm.valid||e.submitButtonDisabled))},dependencies:[y,G,j,H,I,x,q,N,R,L,O,P,w,E,B,S,F],styles:["#login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, #login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 600000s 0s,color 600000s 0s}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[data-autocompleted][_ngcontent-%COMP%]{background-color:transparent!important}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:210px;margin-bottom:12pt;border-radius:5%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160pt;height:40pt;font-size:11pt}"]});let t=i;return t})();export{se as LoginComponent};

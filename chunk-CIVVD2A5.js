import{a as v,g as l,h as x,i as p,j as H,k as Y,l as q}from"./chunk-R2BNHJJJ.js";import{$ as A,C as S,Cc as F,Db as G,Dc as $,Fc as N,Gc as P,Hc as T,Ic as z,Ma as R,Ra as f,Sa as C,T as b,W as u,Wa as O,a as I,aa as w,bb as h,db as U,ea as M,o as r,ra as E,ya as D,za as L}from"./chunk-HMK3YC4P.js";var V={email:localStorage.getItem("email")??"",token:localStorage.getItem("token")??"",baseCurrencyCode:localStorage.getItem("baseCurrencyCode")??""},c,d=(c=class{static getAuth(t){return t}static getDefaultCurrency(t){return t.baseCurrencyCode}logIn(t,o){let i=t.getState();t.setState(I(I({},i),o.payload))}logOut(t){t.setState({email:"",token:"",baseCurrencyCode:""})}},c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=u({token:c,factory:c.\u0275fac}),c);r([l(H)],d.prototype,"logIn",null);r([l(Y)],d.prototype,"logOut",null);r([p()],d,"getAuth",null);r([p()],d,"getDefaultCurrency",null);d=r([x({name:"authState",defaults:V})],d);var B=(()=>{let t=class t{};t.type="[Categories] Get Categories";let e=t;return e})(),k=(()=>{let t=class t{constructor(i){this.payload=i}};t.type="[Categories] Get Categories Success";let e=t;return e})(),y=(()=>{let t=class t{};t.type="[Categories] Get Categories Error";let e=t;return e})(),J=(()=>{let t=class t{};t.type="[Categories] Get Spending Categories";let e=t;return e})(),K=(()=>{let t=class t{};t.type="[Categories] Get Assets Categories";let e=t;return e})();var Q=(()=>{let t=class t{constructor(i){this.http=i,this.categoriesUrl=q.baseApiUrl+"categories"}createCategory(i){return this.http.post(this.categoriesUrl,i)}getCategories(){return this.http.get(this.categoriesUrl)}updateCategory(i,s){return this.http.patch(`${this.categoriesUrl}/${i}`,s)}deleteCategory(i){return this.http.delete(`${this.categoriesUrl}/${i}`)}};t.\u0275fac=function(s){return new(s||t)(A(G))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var m=function(e){return e[e.Spending=0]="Spending",e[e.Asset=1]="Asset",e}(m||{});var g,a=(g=class{constructor(t){this.categoriesService=t,this.destroyRef=w(E)}static getCategories(t){return t.categories}static getSpendingCategories(t){return t.spendingCategories}static getAssetsCategories(t){return t.assetsCategories}static isLoading(t){return t.isLoading}getCategories({patchState:t,dispatch:o}){return t({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),b(i=>o(new k({categories:i}))),S(i=>o(new y))).subscribe()}getCategoriesSuccess({patchState:t},{payload:o}){let i=o.categories.filter(n=>n.type===m.Spending),s=o.categories.filter(n=>n.type===m.Asset);t({categories:o.categories,spendingCategories:i,assetsCategories:s,isLoading:!1})}getCategoriesError({patchState:t}){t({isLoading:!1})}getSpendingCategories({patchState:t,dispatch:o}){return t({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),b(i=>{let s=i.filter(n=>n.type===m.Spending);t({spendingCategories:s,isLoading:!1})}),S(i=>o(new y))).subscribe()}getAssetsCategories({patchState:t,dispatch:o}){return t({isLoading:!0}),this.categoriesService.getCategories().pipe(v(this.destroyRef),b(i=>{let s=i.filter(n=>n.type===m.Asset);t({assetsCategories:s,isLoading:!1})}),S(i=>o(new y))).subscribe()}},g.\u0275fac=function(o){return new(o||g)(A(Q))},g.\u0275prov=u({token:g,factory:g.\u0275fac}),g);r([l(B)],a.prototype,"getCategories",null);r([l(k)],a.prototype,"getCategoriesSuccess",null);r([l(y)],a.prototype,"getCategoriesError",null);r([l(J)],a.prototype,"getSpendingCategories",null);r([l(K)],a.prototype,"getAssetsCategories",null);r([p()],a,"getCategories",null);r([p()],a,"getSpendingCategories",null);r([p()],a,"getAssetsCategories",null);r([p()],a,"isLoading",null);a=r([x({name:"categoriesState",defaults:{categories:[],spendingCategories:[],assetsCategories:[],isLoading:!1}})],a);var yt=(()=>{let t=class t{constructor(i,s){this.dialogRef=i,this.data=s}onNoClick(){this.dialogRef.close()}};t.\u0275fac=function(s){return new(s||t)(L(F),L($))},t.\u0275cmp=M({type:t,selectors:[["app-delete-confirmation-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(s,n){s&1&&(f(0,"h1",0),h(1,"Confirm Deletion"),C(),f(2,"div",1)(3,"p"),h(4),C()(),f(5,"div",2)(6,"button",3),O("click",function(){return n.onNoClick()}),h(7,"No"),C(),f(8,"button",4),h(9,"Yes"),C()()),s&2&&(D(4),U("Are you sure you want to delete the ",n.data.name," category?"),D(4),R("mat-dialog-close",!0))},dependencies:[N,P,z,T],styles:["h1[_ngcontent-%COMP%]{font-size:20px;font-weight:700}mat-dialog-content[_ngcontent-%COMP%]{font-size:16px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]});let e=t;return e})();export{d as a,B as b,Q as c,a as d,yt as e};

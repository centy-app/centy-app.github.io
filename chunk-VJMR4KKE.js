import{a as K}from"./chunk-6JA4QFV5.js";import"./chunk-UMAUW5TW.js";import{a as N}from"./chunk-O5LUZGNK.js";import{d as V}from"./chunk-QYH3FJIN.js";import{Ab as D,Cc as z,Ic as G,Ka as p,Kc as T,Ma as d,Oa as c,Ra as s,Sa as r,Sb as O,Ta as g,Wa as _,aa as C,bb as m,dc as P,ea as M,ec as u,fb as b,fc as w,gc as k,hc as L,ic as f,jc as S,kc as F,lc as E,mc as R,nc as B,ob as y,oc as I,pc as x,qc as H,ra as v,rc as j,sc as q,ya as o,za as l}from"./chunk-TO2CRQFP.js";function U(t,i){t&1&&g(0,"img",2)}function A(t,i){t&1&&(s(0,"mat-error"),m(1,"Email is invalid"),r())}function J(t,i){t&1&&(s(0,"mat-error"),m(1,"Password is required"),r())}var le=(()=>{let i=class i{constructor(a,n,e,h){this.loginService=a,this.changeDetectorRef=n,this.media=e,this.snackBar=h,this.submitButtonDisabled=!1,this.destroyRef=C(v)}ngOnInit(){this.initialyzeMediaMatcherListener(),this.initialyzeFormComponents()}onLogin(){this.submitButtonDisabled=!0,this.loginService.loginRemote({email:this.email.value,password:this.password.value}).pipe(N(this.destroyRef)).subscribe(a=>{a.success||(a.errors?a.errors.forEach(n=>{this.snackBar.open(n,"OK")}):this.snackBar.open("Unexpected error occurred while logging in","OK")),this.submitButtonDisabled=!1})}initialyzeMediaMatcherListener(){this.isDesktopHeight=this.media.matchMedia("(min-height: 500px)"),this.isDesktopHeightListener=()=>this.changeDetectorRef.detectChanges(),this.isDesktopHeight.addEventListener("change",this.isDesktopHeightListener)}initialyzeFormComponents(){this.email=new f("",[u.required,u.email]),this.password=new f("",u.required),this.loginForm=new L({email:this.email,password:this.password})}ngOnDestroy(){this.isDesktopHeight.removeEventListener("change",this.isDesktopHeightListener)}};i.\u0275fac=function(n){return new(n||i)(l(K),l(y),l(O),l(G))},i.\u0275cmp=M({type:i,selectors:[["app-login"]],standalone:!0,features:[b],decls:15,vars:7,consts:[["id","login-page"],["id","login-form",3,"ngSubmit","formGroup"],["src","../../../assets/typing.gif","alt","cat"],["matInput","","required","","placeholder","name@domain.com","required","",3,"formControl"],["matInput","","type","password",3,"formControl"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(n,e){n&1&&(s(0,"div",0)(1,"form",1),_("ngSubmit",function(){return e.onLogin()}),p(2,U,1,0,"img",2),s(3,"mat-form-field")(4,"mat-label"),m(5,"Email"),r(),g(6,"input",3),p(7,A,2,0,"mat-error"),r(),s(8,"mat-form-field")(9,"mat-label"),m(10,"Password"),r(),g(11,"input",4),p(12,J,2,0,"mat-error"),r(),s(13,"button",5),m(14,"Log In"),r()()()),n&2&&(o(),d("formGroup",e.loginForm),o(),c(e.isDesktopHeight.matches?2:-1),o(4),d("formControl",e.email),o(),c(e.email.invalid?7:-1),o(4),d("formControl",e.password),o(),c(e.password.invalid?12:-1),o(),d("disabled",!e.loginForm.valid||e.submitButtonDisabled))},dependencies:[D,T,q,j,x,H,z,V,B,S,P,w,k,R,I,F,E],styles:["#login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, #login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{transition:background-color 600000s 0s,color 600000s 0s}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[data-autocompleted][_ngcontent-%COMP%]{background-color:transparent!important}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:210px;margin-bottom:12pt;border-radius:5%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160pt;height:40pt;font-size:11pt}"]});let t=i;return t})();export{le as LoginComponent};

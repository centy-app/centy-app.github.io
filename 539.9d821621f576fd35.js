"use strict";(self.webpackChunkcenty=self.webpackChunkcenty||[]).push([[539],{6539:(L,l,i)=>{i.r(l),i.d(l,{LoginComponent:()=>D});var n=i(9417),t=i(4438),_=i(9079),c=i(177),d=i(3331),u=i(328),p=i(6195),h=i(9327),f=i(5416),M=i(8834),r=i(1362),C=i(9631);function E(e,g){1&e&&t.nrm(0,"img",2)}function O(e,g){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Email is invalid"),t.k0s())}function P(e,g){1&e&&(t.j41(0,"mat-error"),t.EFF(1,"Password is required"),t.k0s())}let D=(()=>{class e{constructor(s,a,o,m){this.loginService=s,this.changeDetectorRef=a,this.media=o,this.snackBar=m,this.submitButtonDisabled=!1,this.destroyRef=(0,t.WQX)(t.abz)}ngOnInit(){this.initialyzeMediaMatcherListener(),this.initialyzeFormComponents()}onLogin(){this.submitButtonDisabled=!0,this.loginService.loginRemote({email:this.email.value,password:this.password.value}).pipe((0,_.pQ)(this.destroyRef)).subscribe(s=>{this.submitButtonDisabled=!1,s.success||s.errors.forEach(a=>{this.snackBar.open(a,"OK")})})}initialyzeMediaMatcherListener(){this.isDesktopHeight=this.media.matchMedia("(min-height: 500px)"),this.isDesktopHeightListener=()=>this.changeDetectorRef.detectChanges(),this.isDesktopHeight.addEventListener("change",this.isDesktopHeightListener)}initialyzeFormComponents(){this.email=new n.MJ("",[n.k0.required,n.k0.email]),this.password=new n.MJ("",n.k0.required),this.loginForm=new n.gE({email:this.email,password:this.password})}ngOnDestroy(){this.isDesktopHeight.removeEventListener("change",this.isDesktopHeightListener)}static#t=this.\u0275fac=function(a){return new(a||e)(t.rXU(p.H),t.rXU(t.gRc),t.rXU(h.DY),t.rXU(f.UG))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-login"]],standalone:!0,features:[t.aNF],decls:15,vars:7,consts:[["id","login-page"],["id","login-form",3,"ngSubmit","formGroup"],["src","../../../assets/typing.gif","alt","cat"],["matInput","","required","","placeholder","name@domain.com","required","",3,"formControl"],["matInput","","type","password",3,"formControl"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.onLogin()}),t.DNE(2,E,1,0,"img",2),t.j41(3,"mat-form-field")(4,"mat-label"),t.EFF(5,"Email"),t.k0s(),t.nrm(6,"input",3),t.DNE(7,O,2,0,"mat-error"),t.k0s(),t.j41(8,"mat-form-field")(9,"mat-label"),t.EFF(10,"Password"),t.k0s(),t.nrm(11,"input",4),t.DNE(12,P,2,0,"mat-error"),t.k0s(),t.j41(13,"button",5),t.EFF(14,"Log In"),t.k0s()()()),2&a&&(t.R7$(),t.Y8G("formGroup",o.loginForm),t.R7$(),t.vxM(2,o.isDesktopHeight.matches?2:-1),t.R7$(4),t.Y8G("formControl",o.email),t.R7$(),t.vxM(7,o.email.invalid?7:-1),t.R7$(4),t.Y8G("formControl",o.password),t.R7$(),t.vxM(12,o.password.invalid?12:-1),t.R7$(),t.Y8G("disabled",!o.loginForm.valid||o.submitButtonDisabled))},dependencies:[c.MD,u.G,M.$z,r.rl,r.nJ,r.TL,C.fg,d.iI,n.YN,n.qT,n.me,n.BC,n.cb,n.YS,n.X1,n.l_,n.j4],styles:["#login-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, #login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-transition:background-color 600000s 0s,color 600000s 0s;transition:background-color 600000s 0s,color 600000s 0s}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   input[data-autocompleted][_ngcontent-%COMP%]{background-color:transparent!important}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:210px;margin-bottom:12pt;border-radius:5%}#login-page[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160pt;height:40pt;font-size:11pt}"]})}return e})()}}]);